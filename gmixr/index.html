<!DOCTYPE html>
<html>
<head>
	<title>Gmixr : Your Playlists, Visualized.</title>
	<meta name="viewport" content="width=device-width, initial-scale=1">

	<meta property="og:url" content="http://gmixr.com" />
	<meta property="og:title" content="Gmixr : Your Playlists, Visualized." />
	<meta property="og:description" content="Gmixr allows you to search animated gifs to match your music." />
	<meta property="og:image" content="http://gmixr.com/assets/img/gmixr-party-background-03.jpg" />
	<meta property="fb:app_id" content="232067633950290" />
	
	<meta charset="<?php bloginfo( 'charset' ); ?>">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<link rel="profile" href="http://gmpg.org/xfn/11">
<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-321558-30', 'auto');
  ga('send', 'pageview');

</script>
	</script>

<script src="https://cdn.jsdelivr.net/jquery/2.1.0/jquery.min.js"></script>
<script src="https://cdn.jsdelivr.net/jquery.fullpage/2.9.4/jquery.fullpage.min.js"></script>
<link rel="stylesheet" href="https://cdn.jsdelivr.net/jquery.fullpage/2.9.4/jquery.fullpage.min.css" />
<!-- <link rel="stylesheet" type="text/css" href="//cdn.jsdelivr.net/jquery.slick/1.6.0/slick.css"/> -->
<link href="https://fonts.googleapis.com/css?family=Roboto:100" rel="stylesheet">
<link href="https://maxcdn.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css" rel="stylesheet">
<link rel="stylesheet" type="text/css" href="http://hanusek.com/gmixr/assets/css/style.min.css"/>

</head>


<body>
<img class="loader" />



<div id="app-wrap">
    <div id="page-wrap">
        <div id="fullpage">
                <div class="section"></div>
				<div class="section"></div>
				<div class="section"></div>
            </div>
        </div>
				<div id="background-images">
					<div class="background" style="background-image:url(../assets/img/gmixr-party-background-01.jpg);"></div>
					<div class="background" style="background-image:url(../assets/img/gmixr-party-background-03.jpg);"></div>
					<div class="background" style="background-image:url(../assets/img/gmixr-party-background-01.jpg);"></div>
				</div>
        <div id="overlay">
					<div class="flex-wrap">
						<div id="logo">
							<!-- Generator: Adobe Illustrator 21.1.0, SVG Export Plug-In  -->
							<svg version="1.1"
							xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" xmlns:a="http://ns.adobe.com/AdobeSVGViewerExtensions/3.0/"
							x="0px" y="0px" width="374.4px" height="205.4px" viewBox="0 0 374.4 205.4" style="enable-background:new 0 0 374.4 205.4;"
							xml:space="preserve">
							<style type="text/css">
							.st0{fill:#FFFFFF;}
							</style>
							<defs>
							</defs>
							<g>
							<path class="st0" d="M107.8,73l-7,39.3h31.8l7-39.5c0.7-3.5,1.7-6.3,3.2-8.3c1.5-2,3.2-3.1,5.3-3.1c3.9,0,5.8,2.2,5.8,6.5
							c0,0.6,0,1.3-0.1,2.2c0,0.9-0.2,1.7-0.4,2.5l-7,39.6h31.9l7.9-45.3c0.2-1.1,0.4-2.3,0.5-3.5c0.1-1.2,0.2-2.4,0.2-3.8
							c0-2.8-0.5-5.7-1.3-8.5c-0.9-2.8-2.3-5.4-4.3-7.7c-1.9-2.3-4.4-4.1-7.5-5.5c-3.1-1.4-6.8-2.1-11.1-2.1c-5.4,0-9.9,1.1-13.4,3.3
							c-3.5,2.2-6.6,4.8-9,7.8c-1.6-3.4-4-6.1-7.3-8.1c-3.3-2-7.6-3-13.1-3c-5.1,0-9.5,1.2-13.2,3.5c-3.6,2.3-6.5,4.9-8.6,7.7l1.7-9.6
							h-1.3H70h-2c-0.2,2-0.4,4.2-0.8,6.6c-2.1-2.6-4.8-4.6-8.1-6c-3.8-1.6-7.5-2.3-11.1-2.3c-6.2,0-11.8,1.2-16.9,3.6
							c-5.1,2.4-9.5,5.7-13.1,9.9c-3.6,4.2-6.5,9.1-8.5,14.7c-2,5.6-3.1,11.5-3.1,17.9c0,4.4,0.7,8.4,2,12.1c1.3,3.7,3.3,6.9,5.9,9.6
							c2.6,2.7,5.9,4.8,9.8,6.3c3.9,1.5,8.5,2.3,13.7,2.3c2.3,0,4.4-0.3,6.5-0.8c2-0.5,3.9-1.2,5.5-2c1.6-0.8,3-1.7,4.3-2.6
							c1.1-0.9,2-1.7,2.7-2.4l-1.4,7.8h0.1c-0.1,0.3-0.3,0.6-0.4,0.9c-0.8,1.7-2,3.1-3.5,4.4c-1.5,1.3-3.4,2.3-5.6,3.1
							c-2.2,0.8-4.9,1.1-8.2,1.1c-3.6,0-7.5-0.8-11.8-2.3c-4.3-1.5-7.9-3.7-10.9-6.7L0,134.7c2.3,1.9,4.9,3.6,7.9,5
							c3,1.5,6.2,2.7,9.6,3.7c3.4,1,6.9,1.7,10.6,2.2c3.6,0.5,7.2,0.7,10.7,0.7c14,0,25.1-3.3,33.2-9.8c6.7-5.4,11.5-13.4,14.5-24.3h0.7
							l7-39.5c0.8-4,1.9-6.9,3.4-8.7c1.5-1.8,3.2-2.7,5-2.7c1.9,0,3.3,0.7,4.3,2c1,1.3,1.5,3.1,1.5,5.3c0,0.5,0,1.1-0.1,1.9
							C108.1,71.4,108,72.2,107.8,73z M59.3,83.5c-1.3,1.6-2.8,2.8-4.7,3.8c-1.8,1-3.9,1.5-6.2,1.5s-4.2-0.4-5.7-1.1
							c-1.5-0.7-2.7-1.6-3.5-2.6c-0.9-1-1.4-2.2-1.8-3.5c-0.3-1.3-0.5-2.6-0.5-3.7c0-2,0.3-4,1-6c0.7-2,1.6-3.8,2.9-5.4
							c1.3-1.6,2.8-2.9,4.7-3.9s4-1.5,6.5-1.5c3.5,0,6.3,0.9,8.3,2.8c1.3,1.2,2.2,2.8,2.7,4.7l-2.2,12.8C60.3,82.2,59.8,82.9,59.3,83.5z"
							/>
							<path class="st0" d="M208.8,27.9c1.3,1.3,3,2.3,4.9,3.1c1.9,0.8,4.1,1.1,6.6,1.1c2.6,0,5.1-0.5,7.3-1.4c2.2-0.9,4.1-2.2,5.7-3.9
							c1.6-1.7,2.8-3.6,3.6-5.8c0.9-2.2,1.3-4.6,1.3-7.2c0-1.8-0.4-3.5-1.1-5.2c-0.8-1.7-1.8-3.1-3.2-4.4c-1.4-1.3-3-2.3-5-3.1
							c-1.9-0.8-4-1.1-6.3-1.1c-2.7,0-5.2,0.5-7.4,1.4c-2.2,0.9-4.1,2.2-5.7,3.9c-1.6,1.7-2.8,3.6-3.7,5.8c-0.9,2.2-1.3,4.6-1.3,7.2
							c0,1.8,0.4,3.5,1.1,5.2C206.4,25.1,207.4,26.6,208.8,27.9z"/>
							<path class="st0" d="M368.5,36.1c-4.3,0-7.9,1-11.1,3.1c-3.1,2-5.8,4.6-7.9,7.6H349c0.1-0.6,0.2-1.3,0.4-2.1
							c0.1-0.9,0.3-1.7,0.4-2.6c0.1-0.9,0.3-1.7,0.4-2.5c0.1-0.8,0.1-1.4,0.1-1.8h-28.7h-1.8h-34l-14.1,16.5l-7.8-16.5h-29.6h-5h-26.8
							l-13.1,75.2H204l20.9-21.7l8.2-46.5L249,73.8L123.1,205.4L264.7,94.5l12.6,23.7H305h7h24.8l8.4-42.1c0.7-3.5,2.4-6.6,5.1-9.2
							c2.7-2.6,6.6-3.9,11.5-3.9c1,0,2.2,0,3.4,0.1c1.2,0.1,2.3,0.3,3.3,0.6l6-27C373,36.3,371,36.1,368.5,36.1z M317.6,52.2l-10.8,56.7
							l-19.7-35.1l32.5-34.1c-0.2,1.7-0.4,3.6-0.7,5.6C318.4,48.1,318,50.4,317.6,52.2z"/>
							</g>
							</svg>
						</div>
						<div id="tagline">
							<h1>your playlists, visualized.</h1>
							<h1>search animated gifs to match your music.</h1>
							<h1>go full screen or broadcast.</h1>

						</div>
						<div id="phone">
							<img class="outline" src="/assets/img/iphone-outline.png" />
							<div class="interface">
								<div class="controls-background">
									<div class="input"><input type="text" /></div>
									<img src="/assets/img/gmixr-interface.jpg" />
								</div>
								<div class="controls backward"><i class="fa fa-step-backward"></i></div>
								<div class="controls playpause play"><i class="fa fa-play"></i><i class="fa fa-pause"></i></div>
								<div class="controls forward"><i class="fa fa-step-forward"></i></div>
								<img class="choosers" src="/assets/img/gmixr-choosers.jpg" />
								<div class="search hide"></div>
							</div>

							<div class="gifs paused"></div>
						</div>
					</div>
        </div>
				<div id="app-links">
					<div class="app-link"><a href="https://itunes.apple.com/us/app/gmixr/id1217135612?mt=8" target="_blank"><img src="/assets/img/apple-app-store-gmixr-link.png" /></a></div>
					<div class="app-link"><a href="https://www.spotify.com/us/premium/" target="_blank"><img src="/assets/img/spotify-gmixr-link.png" /></a></div>
				</div>
				<div id="equalizer" class="paused">
					<img src="/assets/img/gmixr-equalizer.gif" />
				</div>
				<div id="volume">
					<i class="fa fa-volume-off"></i>
					<i class="fa fa-volume-up"></i>
				</div>
    </div>
</div>
<audio id="audio-player" controls>
	<source src="assets/mp3/Foundation.mp3" type="audio/mpeg" type="audio/mp3" controls="controls">
		Your browser does not support the audio element.
</audio>
<script>
const giphy_key = 'l0MYDnwEqSCrEHPZC';
var gifloop;
var firstTime = true;
var gifArray = [];
var playing = false;
(function($){

	function searchGifs(term){

		if (gifloop) {
        clearInterval(gifloop);
				gifArray = [];
				$('.gifs').html('')
    }
		$('.input input').attr('value',term);

		var randomnumber = (Math.floor(Math.random() * 5)*40);
		var giphy_url = 'https://api.giphy.com/v1/gifs/search?q='+term+'&limit=10&api_key='+giphy_key+'&offset='+randomnumber+'';

		$.when( $.ajax( giphy_url) ).then(function( data, textStatus, jqXHR ) {
		   // Alerts 200


			var gifs = data.data;

			if(!firstTime){
				$('.gifs').removeClass('paused');
			}


			for(var i = 0; i < gifs.length; i++){

				var $image = $("img").first();
				var $downloadingImage = $("<img>");
				$downloadingImage.load(function(){
				  $image.attr("src", $(this).attr("src"));
					console.log(gifArray.length );

					gifArray.push($(this).attr("src"));
					if(gifArray.length == gifs.length){
						console.log(gifArray);
						var gifloop = setInterval(function () {
								$('.gifs').html('<div class="gif" style="background-image:url('+gifArray[Math.floor(Math.random()*gifArray.length)]+');" />')
						}, 1043);
						//$('.gifs').removeClass('paused');
						//$('.search').removeClass('hide');
						//$('.play').addClass('animate');
						// $('#equalizer').removeClass('paused');
						// $('.interface').addClass('open');
						playing = true;
						document.getElementById('audio-player').play();
						$('.interface').addClass('open')
						$('.input input').focus();
						$('.input input').select()
						
						$('.playpause').removeClass('play');
						$('.playpause').addClass('pause');
						$('.gifs').removeClass('paused');
						$('#equalizer').removeClass('paused');
						$('#volume').addClass('active');
					}
				});
				$downloadingImage.attr("src", gifs[i].images.downsized.url);

			}



			firstTime = false;

		});
	}
	var items = ['trippy','mrdiv','80s movie','dance','rave', 'party', 'jump'];
	var item = items[Math.floor(Math.random()*items.length)];

	searchGifs(item);

	$('.input input').change(function(){
		// $('.interface').removeClass('open')
		// $('.input input').blur();

		searchGifs($(this).val());

		$('.gifs').addClass('paused');


	});

  $('#fullpage').fullpage({
  	  'touchSensitivity': 5,
      onLeave: function(index, nextIndex, direction){
        $('#app-wrap').attr('class','').addClass('scene-' + nextIndex);
      },
      afterRender: function(){
        $('#app-wrap').attr('class','').addClass('scene-1');
      },
  });
  $('#volume').on('click',function(){
  	if (playing == false) {
			document.getElementById('audio-player').play();
			playing = true;
			$('.playpause').removeClass('play');
			$('.playpause').addClass('pause');
			$('.gifs').removeClass('paused');
			$('#equalizer').removeClass('paused');
			$(this).addClass('active');
		} else {
			document.getElementById('audio-player').pause();
			playing = false;
			$('.playpause').removeClass('pause');
			$('.playpause').addClass('play');
			$('.gifs').addClass('paused');
			$('#equalizer').addClass('paused');
			$(this).removeClass('active');
		}
  })
  

	// variable to store HTML5 audio element
	
	$('.search').on('click',function(){
		if ($('.interface').hasClass('open')) {
			$('.interface').removeClass('open')
			$('.input input').blur();
		}else{
			$('.interface').addClass('open')
			$('.input input').focus();
			$('.input input').select()
		}
	})
	$('.playpause').on('click',function(){
		if (playing == false) {
			document.getElementById('audio-player').play();
			playing = true;
			$('.playpause').removeClass('play');
			$('.playpause').addClass('pause');
			$('.gifs').removeClass('paused');
			$('#equalizer').removeClass('paused');
			$('#volume').addClass('active');
		} else {
			document.getElementById('audio-player').pause();
			playing = false;
			$('.playpause').removeClass('pause');
			$('.playpause').addClass('play');
			$('.gifs').addClass('paused');
			$('#equalizer').addClass('paused');
			$('#volume').removeClass('active');
		}
	});


})(jQuery);
</script>

</body>
</html>
